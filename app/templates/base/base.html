{% extends 'base/html_base.html' %}

{% block navbar %}
    <nav class="navbar navbar-expand-md border-bottom border-dark border-3">
        <div class="container-fluid">
            {% if current_user.is_authenticated %}
                <div class="navbar-brand">
                    <a href="{{ backref }}">
                        <img style="width: 50px; height: 50px" alt=""
                             src="{{ url_for('static', filename='img/backref.svg') }}"/>
                    </a>
                </div>
            {% endif %}
            <div class="navbar-brand">
                <a href="{{ url_for(config.BASE_URL) }}">
                    <img style="width: 50px; height: 50px" alt=""
                         src="{{ url_for('static', filename='img/logo.svg') }}"/>
                </a>
            </div>
            <a class="navbar-toggler border-0 p-0" type="button" data-bs-toggle="collapse"
               data-bs-target="#navbarSupportedContent"
               aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <img style="width: 50px; height: 50px" alt=""
                     src="{{ url_for('static', filename='img/toggler.svg') }}"/>
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    {% if current_user.is_authenticated %}
                        <a class="nav-link mt-1">{{ current_user }}</a>
                        {{ button("Настройки", url_for("user.settings"), "light") }}
                        {{ button("Выход", url_for("user.logout"), "light") }}
                    {% else %}
                        {{ button("Вход", url_for("user.select_login"), "light") }}
                        {{ button("Регистрация", url_for("user.select_register"), "primary") }}
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
{% endblock %}

{% block body_attribs %}class="bg-light"{% endblock body_attribs %}